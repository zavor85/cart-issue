

 function menuSetup() {
	// delays in milliseconds
	let showDelay = 300, hideDelay = 800;
	// holding variables for timers
	let menuEnterTimer, menuLeaveTimer;
	// get the top-level menu items
	let allMenuItems = document.querySelectorAll('.is-mega');

	for (let i = 0; i < allMenuItems.length; i++) {
		// triggered when user's mouse enters the menu item
		allMenuItems[i].addEventListener('mouseenter', function() {
			let thisItem = this;
			// clear the opposite timer
			clearTimeout(menuLeaveTimer);
			// hide any active dropdowns
			for (let j = 0; j < allMenuItems.length; j++) {
				allMenuItems[j].classList.remove('active');
			}
			// add active class after a delay
			menuEnterTimer = setTimeout(function() {
				thisItem.classList.add('active');
			}, showDelay);
		});

		// triggered when user's mouse leaves the menu item
		allMenuItems[i].addEventListener('mouseleave', function() {
			let thisItem = this;
			// clear the opposite timer
			clearTimeout(menuEnterTimer);
			// remove active class after a delay
			menuLeaveTimer = setTimeout(function() {
				thisItem.classList.remove('active');
			}, hideDelay);
		});
	}
}


document.addEventListener('DOMContentLoaded', menuSetup);
