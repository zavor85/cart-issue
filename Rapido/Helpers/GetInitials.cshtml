@functions {
    string GetInitials(string name, string firstName, string lastName, string email, string userName)
    {
        string userInitials = "";

        if (!string.IsNullOrEmpty(name))
        {
            string[] names = name.Trim().Split(' ');
            userInitials += name.Substring(0, 1);

            if (names.Length > 1)
            {
                userInitials += names[names.Length - 1].Substring(0, 1);
            }
        }
        else
        {
            userInitials += !string.IsNullOrEmpty(firstName) ? firstName.Substring(0, 1) : "";
            userInitials += !string.IsNullOrEmpty(lastName) ? lastName.Substring(0, 1) : "";
            userInitials += userInitials.Length == 1 && firstName != null && firstName.Length > 1 ? firstName.Substring(1, 2) : "";
            userInitials += userInitials == "" && email != null && email.Length > 1 ? email.Substring(0, 2) : "";
            userInitials += userInitials == "" ? userName.Substring(0, 2) : "";
        }
        return userInitials;
    }
}